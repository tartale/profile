#!/bin/bash

function recentDownload()(
  ls -d -1t ${DOWNLOAD_PATH}/* 2>/dev/null | head -n 1
)

function previousDownload()(
  ls -d -1t ${DOWNLOAD_PATH}/* 2>/dev/null | head -n 2 | tail -n 1
)

function findDownload()(
  name="${1}"
  find -s ${DOWNLOAD_PATH} -name "*${name}*" -maxdepth 1
)

function valuesOverridesFile()(
  file="${PWD}/overrides-aspenmesh.yaml"
  if [ -f $file ]; then
    printf " --values ${PWD}/overrides-aspenmesh.yaml "
  fi
)

function glt() {
  if [ $# -eq 0 ]; then
    pkgs="./"
  else
    pkgs="$1"
  fi
  ginkgo --dryRun -v --tags=intTest -r --compilers=1 --seed=1 "${pkgs}" | grep -v "Ran " | grep -v "Will run" | grep -v "Ginkgo ran" | grep -v "_test.go"
}

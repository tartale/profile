#!/usr/bin/env bash
# shellcheck disable=SC1090

function sourceIf() {
  local path="${1}"
  if [[ -e "${path}" ]]; then
    echo "sourcing file: ${path}"
    source "${path}"
  fi
}

function include() {
  local prefix="${1}"
  local includePaths=(
    "${PROFILE}/.${prefix}"
    "${PROFILE}/.${prefix}.${SHELLNAME}"
    "${PROFILE}/.${prefix}-${PROJECT}"
    "${PROFILE}/.${prefix}-${PROJECT}.${SHELLNAME}"
    "${PROFILE}/.${prefix}-${PROJECT}-${PROJECT_EXT}"
    "${PROFILE}/.${prefix}-${PROJECT}-${PROJECT_EXT}.${SHELLNAME}"
  )
  for includePath in "${includePaths[@]}"; do
    sourceIf "${includePath}"
  done
}

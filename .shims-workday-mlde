#!/usr/bin/env bash

function prm() {
  p="${1}"
  # Delete path by parts so we can never accidentally remove sub paths
  PATH=${PATH//":${p}:"/":"} # delete any instances in the middle
  PATH=${PATH/#"${p}:"/} # delete any instance at the beginning
  PATH=${PATH/%":${p}"/} # delete any instance at the end
}

IFS=':' read -ra dirs <<< "${PATH}"
for d in "${dirs[@]}"; do
  if [[ "${d}" =~ .*pyenv/shims ]]; then
    prm "${d}"
  fi
done
export PATH

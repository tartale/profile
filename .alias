#!/bin/bash

unalias -a

THIS_SCRIPT_DIR=$(cd $(dirname $BASH_SOURCE); pwd)

alias ae='vi ${THIS_SCRIPT_DIR}/.alias && source ${THIS_SCRIPT_DIR}/.alias'
alias aenv='env | grep AWS'
alias allgit='find $PROJECTS -name ".git" -exec dirname {} \;'
alias awho='aws sts get-caller-identity'
alias da='direnv allow'
alias dp='docker system prune'
alias gaa='git add .'
alias gb='git branch'
alias gcb='git symbolic-ref --short HEAD'
alias gck='git checkout'
alias gckm='git checkout $(gdefault)'
alias gcm='git commit -vm'
alias gcw='git commit -vm WIP'
alias gd='git diff'
alias gl='git log'
alias gll='git log --graph --decorate --pretty=oneline --abbrev-commit --all'
alias gmt='go mod tidy && git add go.mod go.sum && git commit -vm "go mod tidy" && $(gpush)'
alias gpush='git push origin $(gcb)'
alias gs='git status'
alias gsu='git submodule update --init --recursive'
alias gsul='git submodule update --remote --merge'
alias gum='cb=$(gcb) && git checkout $(gdefault) && git pull upstream $(gdefault) && git checkout $cb'
alias hls='helm ls -A'
alias hmt='history | grep "make test" | grep -v history'
alias k='kubectl'
alias kec='kops edit cluster'
alias ll='ls -la'
alias nw='watch -n 1 lsof -nP -i'
alias pidport='lsof -i -n -P'
alias psa='ps -ao user,pid,ppid,start,time,command'
alias psu="ps auwx | grep ${USER}"
alias scp='scp -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
alias ssh='ssh -t -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
alias speaknspell='while true; do IFS= read -r f; say $f; done'
alias letterspell='while true; do IFS= read -r -n1 f; say $f; done'
alias up1='cd ..'
alias up2='cd ../../'
alias up3='cd ../../../'
alias up4='cd ../../../../'
alias up5='cd ../../../../../'

if [[ -e "${THIS_SCRIPT_DIR}" ]]; then
  source "${THIS_SCRIPT_DIR}/.alias-aspenmesh.sh"
fi

source "${THIS_SCRIPT_DIR}/.alias-completion.sh"
